const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GalleryGrid-GLIKmziG.js","assets/index-B5KTeSSJ.js","assets/index-BxeOdRIA.css","assets/EmptyGalleryState-DF4eNLhf.js","assets/Button-CrL99DC8.js","assets/Button-Bc_3GXGQ.css","assets/GalleryFormModal-GNakAs6g.js","assets/Input-BffXVsNv.js","assets/Input-BTpSyTeg.css","assets/galleryService-DZRA_Ux-.js","assets/uploadService-D6fnm2lu.js","assets/Textarea-C4L9DVFo.js","assets/Textarea-udscM-iO.css","assets/GalleryFormModal-BeuQqAhi.css"])))=>i.map(i=>d[i]);
import{r as a,j as e,h as y,I as j,_ as n}from"./index-B5KTeSSJ.js";import{u as _,E as f}from"./ErrorMessage-BYjczp3t.js";import{d as E,g as v}from"./galleryService-DZRA_Ux-.js";import{B as G}from"./Button-CrL99DC8.js";const N=a.lazy(()=>n(()=>import("./GalleryGrid-GLIKmziG.js"),__vite__mapDeps([0,1,2]))),w=a.lazy(()=>n(()=>import("./EmptyGalleryState-DF4eNLhf.js"),__vite__mapDeps([3,1,2,4,5]))),P=a.lazy(()=>n(()=>import("./GalleryFormModal-GNakAs6g.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,4,5,13]))),c=()=>e.jsxs("div",{className:"gallery-grid-loader",children:[e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}}),e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}}),e.jsx("div",{className:"loader-skeleton",style:{aspectRatio:"1",height:"200px"}})]}),z=()=>{const[m,s]=a.useState(!1),[h,l]=a.useState(null),{data:t,loading:u,error:i,refetch:r}=_(v),d=()=>{l(null),s(!0)},g=o=>{l(o),s(!0)},p=async o=>{if(window.confirm("Are you sure you want to delete this gallery post?"))try{await E(o),r()}catch{alert("Failed to delete post")}},x=()=>{s(!1),l(null),r()};return u?e.jsx(y,{fullScreen:!0,size:"large"}):i?e.jsx(f,{message:i,onRetry:r}):e.jsxs("div",{className:"manage-gallery-page",children:[e.jsxs("div",{className:"manage-header",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"manage-title",children:"Manage Gallery"}),e.jsx("p",{className:"manage-subtitle",children:"Upload and manage your gallery posts with multiple images"})]}),e.jsxs(G,{variant:"primary",onClick:d,children:[e.jsx(j,{size:16}),"New Post"]})]}),t&&t.length>0?e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(N,{posts:t,onEdit:g,onDelete:p})}):e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(w,{onCreate:d})}),m&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(P,{image:h,onClose:x})})]})};export{z as default};
